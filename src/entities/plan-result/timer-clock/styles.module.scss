$percentage: 33;
$percentageText: $percentage;

$arcThickness: 1em;
$arcColor: navy;
$arcColorBackground: #ddd;

$circleSize: 14em;
$circleColor: #ccc;

$arcStartPosition: 90deg;

$circleOutterSize: $circleSize + $arcThickness*2;

$flip: rotateX(0deg);
$_arcColor: $arcColor;
@if $percentage == 50 {
  $flip: rotateX(0deg);

} @else if $percentage > 50 {
  $flip: rotateX(180deg);
  $percentage: 100 - $percentage;
  
  $arcColor: $arcColorBackground;
  $arcColorBackground: $_arcColor;
}

$arcSkewX: ($percentage * 3.6 - 90 ) * -1deg;
$arcSkewXfix: $arcSkewX * -1;

.circle,
.arc,
.text {
	margin: 0;
	padding: 0;
}

.circle {
	position: relative;
	margin: 0;
	width: $circleOutterSize; height: $circleOutterSize;
	border-radius: 50%;
	background: $arcColorBackground;	
	overflow: hidden;
  
  .text:after {
    content: $percentageText + '%';
    text-align: center;
    position: absolute;
    font-size: 5em;
    color: #fff;
    height: 1em;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    margin: auto;
  }
}
.circle:before {
	content: '';
	display: block;
	position: relative;
	width: $circleSize; height: $circleSize;
	border-radius: 50%;
	background: $circleColor;
	top: $arcThickness;
	left: $arcThickness;
	z-index: 1;
}
.arc {
	overflow: hidden;
  width: 50%; height: 50%;
	position: absolute;
	top: -12em; right: 50%; bottom: 50%; left: -12em;
	padding: 20em 0 0 20em;
	transform-origin: 100% 100%;
	transform: rotateZ($arcStartPosition) $flip skewX($arcSkewX);
	background-color: blue;
}
.arc:before {
	display: block;
	border: solid $arcThickness $arcColor;
	width: 200%; height: 200%;

	box-sizing: border-box;
	border-radius: 50%;
	transform: skewX($arcSkewXfix);
	content: '';
}
